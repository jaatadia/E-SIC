import csv
import matplotlib.pyplot as plt
import numpy as np

# -----------------------------------
# 				DATA
# -----------------------------------

serverTime = [760767890, 770776941, 780785989, 790795038, 800804088, 810813137, 820822188, 830831233, 840840281, 850849327, 860858371, 870867415, 880876465, 890885519, 900894569, 910903627, 920912678, 930921728, 940930780, 950939834, 960948887, 970957939, 980966991, 990976049, 1000985107, 1010994164, 1021003216, 1031012274, 1041021333, 1051030387, 1061039444, 1071048498, 1081057549, 1091066605, 1101075666, 1111084725, 1121093791, 1131102850, 1141111913, 1151120982, 1161130058, 1171139136, 1181148208, 1191157273, 1201166337, 1211175408, 1221184474, 1231193530, 1241202592, 1251211651, 1261220709, 1271229768, 1281238826, 1291247882, 1301256940, 1311266007, 1321275073, 1331284134, 1341293192, 1351302258, 1361311319, 1371320380, 1381329443, 1391338504, 1401347577, 1411356652, 1421365723, 1431374797, 1441383862, 1451392915, 1461401970, 1471411023, 1481420079, 1491429135, 1501438189, 1511447245, 1521456296, 1531465347, 1541474395, 1551483444, 1561492496, 1571501552, 1581510615, 1591519679, 1601528728, 1611537770, 1621546816, 1631555858, 1641564897, 1651573935, 1661582974, 1671592013, 1681601048, 1691610092, 1701619129, 1711628163, 1721637201, 1731646238, 1741655285, 1751664326, 1761673369, 1771682410, 1781691455, 1791700493, 1801709535, 1811718582, 1821727630, 1831736685, 1841745743, 1851754802, 1861763863, 1871772918, 1881781973, 1891791349, 1901800067, 1911809120, 1921818177, 1931827230, 1941836281, 1951845329, 1961854381, 1971863427, 1981872477, 1991881528, 2001890586, 2011899634, 2021908682, 2031917735, 2041926788, 2051935836, 2061944895, 2071953954, 2081963017, 2091972083, 2101981150, 2111990212, 2121999269, 2132008322, 2142017380, 2152026443, 2162035502, 2172044562, 2182053635, 2192062701, 2202071769, 2212080818, 2222089863, 2232098917, 2242107979, 2252117042, 2262126087, 2272135128, 2282144172, 2292153223, 2302162263, 2312171308, 2322180346, 2332189388, 2342198429, 2352207471, 2362216520, 2372225572, 2382234623, 2392243677, 2402252738, 2412261787, 2422270827, 2432279876, 2442288919, 2452297965, 2462307014, 2472316075, 2482325135, 2492334191, 2502343250, 2512352302, 2522361352, 2532370408, 2542379473, 2552388538, 2562397595, 2572406637, 2582415679, 2592424725, 2602433768, 2612442808, 2622451858, 2632460910, 2642469963, 2652479010, 2662488051, 2672497084, 2682506118, 2692515154, 2702524189, 2712533222, 2722542255, 2732551290, 2742560321, 2752569350, 2762578387, 2772587419, 2782596451, 2792605490, 2802614534, 2812623571, 2822632612, 2832641655, 2842650697, 2852659742, 2862668777, 2872677804, 2882686830, 2892695863, 2902704892, 2912713915, 2922722944, 2932731973, 2942740998, 2952750026, 2962759051, 2972768072, 2982777099, 2992786127, 3002795156, 3012804178, 3022813201, 3032822222, 3042831246, 3052840258, 3062849270, 3072858285, 3082867298, 3092876310, 3102885321, 3112894329, 3122903347, 3132912362, 3142921382, 3152930410, 3162939439, 3172948467, 3182957493, 3192966519, 3202975544, 3212984566, 3222993584, 3233002607, 3243011624, 3253020646, 3263029668, 3273038691, 3283047715, 3293056742, 3303065774, 3313074805, 3323083832, 3333092865, 3343101885, 3353110902, 3363119919, 3373128943, 3383137966, 3393146984, 3403156008, 3413165028, 3423174046, 3433183065, 3443192092, 3453201120, 3463210143, 3473219167, 3483228194, 3493237220, 3503246244, 3513255269, 3523264296, 3533273326, 3543282352, 3553291383, 3563300409, 3573309436, 3583318464, 3593327489, 3603336512, 3613345532, 3623354556, 3633363584, 3643372603, 3653381630, 3663390660, 3673399688, 3683408708, 3693417726, 3703426751, 3713435770, 3723444787, 3733453801, 3743462815, 3753471834, 3763480857, 3773489873, 3783498894, 3793507917, 3803516937, 3813525959, 3823534977, 3833543992, 3843553008, 3853562021, 3863571037, 3873580049, 3883589066, 3893598078, 3903607087, 3913616100, 3923625115, 3933634128, 3943643150, 3953652166, 3963661184, 3973670198, 3983679213, 3993688221, 4003697231, 4013706240, 4023715256, 4033724276, 4043733289, 4053742301, 4063751319, 4073760338, 4083769351, 4093778365, 4103787382, 4113796404, 4123805423, 4133814441, 4143823457, 4153832473, 4163841485, 4173850498, 4183859515, 4193868529, 4203877546, 4213886558, 4223895571, 4233904584, 4243913599, 4253922609, 4263931616, 4273940626, 4283949640, 4293958652, 4303967662, 4313976670, 4323985682, 4333994700, 4344003712, 4354012727, 4364021738, 4374030748, 4384039761, 4394048774, 4404057785, 4414066796, 4424075980, 4434084811, 4444093822, 4454102832, 4464111844, 4474120857, 4484129867, 4494138878, 4504147885, 4514156902, 4524165915, 4534174931, 4544183944, 4554192957, 4564201971, 4574210986, 4584219993, 4594229000, 4604238006, 4614247014, 4624256017, 4634265016, 4644274018, 4654283024, 4664292028, 4674301031, 4684310035, 4694319039, 4704328043, 4714337050, 4724346056, 4734355063, 4744364069, 4754373077, 4764382083, 4774391256, 4784400100, 4794409105, 4804418115, 4814427118, 4824436125, 4834445128, 4844454133, 4854463140, 4864472149, 4874481153, 4884490161, 4894499164, 4904508168, 4914517175, 4924526188, 4934535195, 4944544204, 4954553203, 4964562203, 4974571205, 4984580211, 4994589216, 5004598221, 5014607226, 5024616225, 5034625226, 5044634221, 5054643223]
t0A = [676983066, 686992041, 697001012, 707009984, 717018957, 727027930, 737036904, 747045872, 757054844, 767063813, 777072780, 787081747, 797090720, 807099697, 817108670, 827117651, 837126626, 847135599, 857144574, 867153551, 877162528, 887171502, 897180477, 907189458, 917198439, 927207419, 937216394, 947225375, 957234357, 967243334, 977252314, 987261291, 997270265, 1007279244, 1017288229, 1027297211, 1037306200, 1047315183, 1057324169, 1067333162, 1077342160, 1087351162, 1097360158, 1107369146, 1117378134, 1127387128, 1137396117, 1147405097, 1157414082, 1167423065, 1177432046, 1187441028, 1197450010, 1207458989, 1217467971, 1227476961, 1237485950, 1247494935, 1257503917, 1267512906, 1277521891, 1287530875, 1297539862, 1307548847, 1317557843, 1327566842, 1337575837, 1347584835, 1357593823, 1367602800, 1377611780, 1387620756, 1397629736, 1407638715, 1417647693, 1427656673, 1437665647, 1447674622, 1457683593, 1467692566, 1477701541, 1487710522, 1497719507, 1507728494, 1517737466, 1527746431, 1537755399, 1547764364, 1557773326, 1567782286, 1577791249, 1587800210, 1597809168, 1607818135, 1617827095, 1627836052, 1637845013, 1647853974, 1657862944, 1667871908, 1677880874, 1687889839, 1697898808, 1707907770, 1717916735, 1727925706, 1737934678, 1747943656, 1757952638, 1767961621, 1777970606, 1787979587, 1797988566, 1807997788, 1818006511, 1828015490, 1838024472, 1848033450, 1858042426, 1868051399, 1878060376, 1888069347, 1898078320, 1908087296, 1918096278, 1928105250, 1938114222, 1948123200, 1958132176, 1968141149, 1978150131, 1988159115, 1998168102, 2008177092, 2018186083, 2028195069, 2038204050, 2048213026, 2058222009, 2068230997, 2078239982, 2088248966, 2098257965, 2108266957, 2118275950, 2128284925, 2138293895, 2148302874, 2158311860, 2168320849, 2178329819, 2188338786, 2198347755, 2208356732, 2218365697, 2228374667, 2238383630, 2248392597, 2258401563, 2268410530, 2278419504, 2288428481, 2298437457, 2308446435, 2318455421, 2328464396, 2338473361, 2348482334, 2358491302, 2368500274, 2378509248, 2388518235, 2398527220, 2408536202, 2418545186, 2428554164, 2438563139, 2448572121, 2458581112, 2468590102, 2478599085, 2488608053, 2498617022, 2508625993, 2518634963, 2528643929, 2538652904, 2548661881, 2558670860, 2568679832, 2578688797, 2588697755, 2598706714, 2608715675, 2618724634, 2628733592, 2638742550, 2648751509, 2658760464, 2668769418, 2678778380, 2688787337, 2698796295, 2708805259, 2718814230, 2728823192, 2738832159, 2748841127, 2758850095, 2768859065, 2778868025, 2788876977, 2798885928, 2808894885, 2818903839, 2828912787, 2838921740, 2848930693, 2858939643, 2868948595, 2878957544, 2888966489, 2898975441, 2908984394, 2918993348, 2929002296, 2939011244, 2949020191, 2959029141, 2969038078, 2979047015, 2989055955, 2999064892, 3009073829, 3019082764, 3029091697, 3039100639, 3049109578, 3059118523, 3069127476, 3079136430, 3089145383, 3099154335, 3109163286, 3119172236, 3129181183, 3139190126, 3149199073, 3159208015, 3169216960, 3179225907, 3189234854, 3199243803, 3209252755, 3219261712, 3229270668, 3239279620, 3249288578, 3259297522, 3269306463, 3279315404, 3289324351, 3299333297, 3309342239, 3319351186, 3329360129, 3339369071, 3349378013, 3359386962, 3369395914, 3379404860, 3389413806, 3399422757, 3409431705, 3419440652, 3429449600, 3439458550, 3449467503, 3459476453, 3469485408, 3479494358, 3489503309, 3499512261, 3509521211, 3519530157, 3529539100, 3539548048, 3549556999, 3559565941, 3569574891, 3579583843, 3589592795, 3599601737, 3609610678, 3619619626, 3629628568, 3639637507, 3649646443, 3659655380, 3669664322, 3679673268, 3689682206, 3699691150, 3709700097, 3719709039, 3729717984, 3739726925, 3749735862, 3759744801, 3769753737, 3779762676, 3789771611, 3799780551, 3809789486, 3819798419, 3829807354, 3839816293, 3849825229, 3859834174, 3869843113, 3879852054, 3889860992, 3899869929, 3909878860, 3919887793, 3929896726, 3939905665, 3949914608, 3959923544, 3969932479, 3979941420, 3989950364, 3999959300, 4009968237, 4019977178, 4029986123, 4039995067, 4050004008, 4060012948, 4070021888, 4080030823, 4090039760, 4100048702, 4110057639, 4120066579, 4130075515, 4140084451, 4150093388, 4160102326, 4170111259, 4180120190, 4190129123, 4200138060, 4210146995, 4220155929, 4230164859, 4240173794, 4250182736, 4260191671, 4270200609, 4280209542, 4290218475, 4300227411, 4310236348, 4320245282, 4330254216, 4340263145, 4350272077, 4360281011, 4370289945, 4380298880, 4390307817, 4400316750, 4410325684, 4420334615, 4430343555, 4440352493, 4450361432, 4460370371, 4470379308, 4480388246, 4490397186, 4500406118, 4510415049, 4520423978, 4530432909, 4540441836, 4550450759, 4560459684, 4570468614, 4580477541, 4590486467, 4600495395, 4610504322, 4620513249, 4630522180, 4640531109, 4650540039, 4660548968, 4670557899, 4680566829, 4690575859, 4700584692, 4710593621, 4720602554, 4730611480, 4740620411, 4750629336, 4760638266, 4770647196, 4780656128, 4790665056, 4800673987, 4810682914, 4820691842, 4830700773, 4840709710, 4850718643, 4860727576, 4870736500, 4880745424, 4890754350, 4900763280, 4910772209, 4920781137, 4930790066, 4940798988, 4950807913, 4960816832, 4970825757]
estimationA = [760764624, 770773618, 780782609, 790791600, 800800593, 810809586, 820818794, 830827784, 840836778, 850845769, 860854758, 870863747, 880872742, 890882156, 900891156, 910900165, 920909167, 930918168, 940927170, 950936175, 960945423, 970954427, 980963432, 990972444, 1000981455, 1010990465, 1020999257, 1031008265, 1041017274, 1051026278, 1061035285, 1071044290, 1081054917, 1091063943, 1101072975, 1111082004, 1121091039, 1131100069, 1141109102, 1151118502, 1161127551, 1171136603, 1181145650, 1191154688, 1201163727, 1211173824, 1221182875, 1231191916, 1241200963, 1251210007, 1261219049, 1271228093, 1281238474, 1291247528, 1301256584, 1311265649, 1321274713, 1331283772, 1341293434, 1351302503, 1361311569, 1371320633, 1381329700, 1391338766, 1401347842, 1411356921, 1421366319, 1431375400, 1441384471, 1451393531, 1461402594, 1471411653, 1481420717, 1491429987, 1501439050, 1511448114, 1521457173, 1531466233, 1541475289, 1551484274, 1561493333, 1571502398, 1581511467, 1591520538, 1601529594, 1611538643, 1621547558, 1631556606, 1641565651, 1651574694, 1661583739, 1671592783, 1681601824, 1691610900, 1701619943, 1711628983, 1721638027, 1731647071, 1741656124, 1751665209, 1761674258, 1771683306, 1781692359, 1791701404, 1801710452, 1811719506, 1821728660, 1831737721, 1841746787, 1851755854, 1861764922, 1871773987, 1881783120, 1891792426, 1901801233, 1911810296, 1921819362, 1931828424, 1941837429, 1951846485, 1961855546, 1971864601, 1981873657, 1991882717, 2001891782, 2011900758, 2021909813, 2031918874, 2041927933, 2051936989, 2061946054, 2071955090, 2081964160, 2091973233, 2101982306, 2111991375, 2122000439, 2132009498, 2142018457, 2152027527, 2162036594, 2172045660, 2182054741, 2192063815, 2202072775, 2212081831, 2222090882, 2232099943, 2242109010, 2252118080, 2262127132, 2272136081, 2282145130, 2292154188, 2302163234, 2312172285, 2322181328, 2332190376, 2342199344, 2352208391, 2362217445, 2372226502, 2382235559, 2392244617, 2402253597, 2412262652, 2422271696, 2432280749, 2442289796, 2452298848, 2462307901, 2472316763, 2482325826, 2492334886, 2502343948, 2512353004, 2522362057, 2532371041, 2542380109, 2552389177, 2562398237, 2572407283, 2582416329, 2592425378, 2602434320, 2612443363, 2622452414, 2632461468, 2642470523, 2652479572, 2662488496, 2672497529, 2682506564, 2692515600, 2702524635, 2712533668, 2722542701, 2732551617, 2742560646, 2752569675, 2762578711, 2772587742, 2782596774, 2792605813, 2802614612, 2812623646, 2822632686, 2832641726, 2842650767, 2852659809, 2862668841, 2872677680, 2882686702, 2892695730, 2902704754, 2912713773, 2922722797, 2932731655, 2942740673, 2952749694, 2962758712, 2972767726, 2982776747, 2992785769, 3002794605, 3012803620, 3022812634, 3032821648, 3042830664, 3052839668, 3062848525, 3072857529, 3082866531, 3092875533, 3102884533, 3112893530, 3122902336, 3132911337, 3142920345, 3152929360, 3162938376, 3172947392, 3182956406, 3192965502, 3202974514, 3212983524, 3222992529, 3233001538, 3243010543, 3253019550, 3263028856, 3273037867, 3283046881, 3293055897, 3303064918, 3313073939, 3323082955, 3333092119, 3343101128, 3353110134, 3363119141, 3373128153, 3383137164, 3393146171, 3403155304, 3413164313, 3423173321, 3433182328, 3443191343, 3453200361, 3463209562, 3473218575, 3483227593, 3493236608, 3503245622, 3513254637, 3523263654, 3533272768, 3543281785, 3553290807, 3563299825, 3573308843, 3583317862, 3593326880, 3603335955, 3613344966, 3623353981, 3633363000, 3643372009, 3653381026, 3663390046, 3673399139, 3683408149, 3693417158, 3703426173, 3713435183, 3723444190, 3733453193, 3743462327, 3753471337, 3763480352, 3773489358, 3783498371, 3793507386, 3803516555, 3813525570, 3823534581, 3833543587, 3843552596, 3853561602, 3863570610, 3873579744, 3883588755, 3893597761, 3903606765, 3913615770, 3923624780, 3933633787, 3943642802, 3953651861, 3963660873, 3973669882, 3983678890, 3993687892, 4003696896, 4013705900, 4023714926, 4033723940, 4043732947, 4053741953, 4063750965, 4073759980, 4083768987, 4093777952, 4103786964, 4113795980, 4123804995, 4133814007, 4143823018, 4153831951, 4163840956, 4173849964, 4183858976, 4193867983, 4203876993, 4213886000, 4223895344, 4233904353, 4243913363, 4253922368, 4263931371, 4273940377, 4283949624, 4293958632, 4303967640, 4313976643, 4323985651, 4333994667, 4344003675, 4354012884, 4364021892, 4374030900, 4384039910, 4394048922, 4404057930, 4414066939, 4424076080, 4434085087, 4444094097, 4454103106, 4464112116, 4474121129, 4484130169, 4494139178, 4504148184, 4514157200, 4524166213, 4534175227, 4544184242, 4554193338, 4564202352, 4574211368, 4584220376, 4594229383, 4604238387, 4614247394, 4624256472, 4634265471, 4644274473, 4654283479, 4664292482, 4674301485, 4684310489, 4694319560, 4704328563, 4714337571, 4724346577, 4734355584, 4744364589, 4754373647, 4764382654, 4774391761, 4784400671, 4794409677, 4804418687, 4814427690, 4824436448, 4834445448, 4844454453, 4854463458, 4864472465, 4874481469, 4884490475, 4894499371, 4904508373, 4914517378, 4924526390, 4934535397, 4944544405, 4954553403, 4964562342, 4974571342, 4984580346, 4994589349, 5004598350, 5014607353, 5024616349, 5034625353, 5044634346, 5054643345]

# -----------------------------------
# 			Node 1 Plot
# -----------------------------------

plt.figure('Phi', figsize=(10,10)) 
plt.title('Node 1')


plt.plot(serverTime, [b - a for a,b in zip(serverTime, t0A)], "k-", label="Real Phi Node 1")
plt.plot(serverTime, [b - a for a,b in zip(estimationA, t0A)], "r-", label="Estimated Phi Node 1")

plt.xlabel('ServerTime (microsends)')
plt.ylabel('Phi (microsends)')

axes = plt.gca()

plt.legend()
plt.savefig('oneClient-Node1.png')
plt.close()

# -----------------------------------
# 			Phi Error Plot
# -----------------------------------

plt.figure('Phi', figsize=(10,10)) 
plt.title('Phi Error')

error1 = [abs(b - a) for a,b in zip(estimationA, serverTime)]

plt.plot(serverTime, error1, "r-", label="Node 1")

plt.xlabel('ServerTime (microsends)')
plt.ylabel('Phi Error (microsends)')

plt.legend()
plt.savefig('oneClient-Error.png')
plt.close()

print("Node1:") 
print("\tMin Error: " + str(min(error1)))
print("\tMax Error: " + str(max(error1)))

# -----------------------------------
# 			Time
# -----------------------------------

plt.figure('Time', figsize=(10,10)) 
plt.title('Time')


plt.plot(range(0,len(serverTime)), serverTime, "k-", label="Server time")
plt.plot(range(0,len(serverTime)), t0A, "r-", label="Node time")

plt.xlabel('# of Interuption')
plt.ylabel('Time (microsends)')

axes = plt.gca()

plt.legend()
plt.savefig('oneClient-times.png')
plt.close()